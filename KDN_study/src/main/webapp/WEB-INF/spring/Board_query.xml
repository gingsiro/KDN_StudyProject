<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="board">
	<select id="boardSearchAll" parameterType="pagebean" resultType="board">
		select *
		from board
		<where>
		sno=#{sno} 
		<if test="word != null">	
			<choose>
				<when test="key== 'empno'">
				AND	empno=#{word}
				</when>
				<when test="key== 'btitle'">
				AND	btitle like '%'||#{word}||'%'
				</when>
				<when test="key== 'bcontents'">
				AND	bcontents like '%'||#{word}||'%'
				</when>
			</choose>
			</if>
		</where>
	</select>
	
	<select id="search" parameterType="int" resultType="board">
		select *
		from board
		where bno=#{bno}
	</select>
	
	<update id="update" parameterType="board">
		update board set btitle=#{btitle:VARCHAR}, bcontents=#{bcontents:VARCHAR}, regdaet = sysdate
		where bno = #{bno:INTEGER}
		
	</update>
</mapper>
